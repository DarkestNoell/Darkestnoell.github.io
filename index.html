<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
</head>
<body>
    <div class="container" autocapitalize="words">
        <div class="row scene">
            <div class="cube">
                <!--Front-->
                <div class="cube-side-front">
                    <div class="cube-face cube-front tl"></div>
                    <div class="cube-face cube-front tm"></div>
                    <div class="cube-face cube-front tr"></div>
                    <div class="cube-face cube-front ml"></div>
                    <div class="cube-face cube-front mm"></div>
                    <div class="cube-face cube-front mr"></div>
                    <div class="cube-face cube-front bl"></div>
                    <div class="cube-face cube-front bm"></div>
                    <div class="cube-face cube-front br"></div>
                </div>

                <!-- Left -->
                <div class="cube-side-left">
                    <div class="cube-face cube-left tl"></div>
                    <div class="cube-face cube-left tm"></div>
                    <div class="cube-face cube-left tr"></div>
                    <div class="cube-face cube-left ml"></div>
                    <div class="cube-face cube-left mm"></div>
                    <div class="cube-face cube-left mr"></div>
                    <div class="cube-face cube-left bl"></div>
                    <div class="cube-face cube-left bm"></div>
                    <div class="cube-face cube-left br"></div>
                </div>

                <!-- Right -->
                <div class="cube-side-right">
                    <div class="cube-face cube-right tl"></div>
                    <div class="cube-face cube-right tm"></div>
                    <div class="cube-face cube-right tr"></div>
                    <div class="cube-face cube-right ml"></div>
                    <div class="cube-face cube-right mm"></div>
                    <div class="cube-face cube-right mr"></div>
                    <div class="cube-face cube-right bl"></div>
                    <div class="cube-face cube-right bm"></div>
                    <div class="cube-face cube-right br"></div>
                </div>

                <!-- Back -->
                <div class="cube-side-back">
                    <div class="cube-face cube-back tl"></div>
                    <div class="cube-face cube-back tm"></div>
                    <div class="cube-face cube-back tr"></div>
                    <div class="cube-face cube-back ml"></div>
                    <div class="cube-face cube-back mm"></div>
                    <div class="cube-face cube-back mr"></div>
                    <div class="cube-face cube-back bl"></div>
                    <div class="cube-face cube-back bm"></div>
                    <div class="cube-face cube-back br"></div>
                </div>

                <!-- Top -->
                <div class="cube-side-top">
                    <div class="cube-face cube-top tl"></div>
                    <div class="cube-face cube-top tm"></div>
                    <div class="cube-face cube-top tr"></div>
                    <div class="cube-face cube-top ml"></div>
                    <div class="cube-face cube-top mm"></div>
                    <div class="cube-face cube-top mr"></div>
                    <div class="cube-face cube-top bl"></div>
                    <div class="cube-face cube-top bm"></div>
                    <div class="cube-face cube-top br"></div>
                </div>

                <!-- Bottom -->
                <div class="cube-side-bottom">
                    <div class="cube-face cube-bottom bl"></div>
                    <div class="cube-face cube-bottom bm"></div>
                    <div class="cube-face cube-bottom br"></div>
                    <div class="cube-face cube-bottom tl"></div>
                    <div class="cube-face cube-bottom tm"></div>
                    <div class="cube-face cube-bottom tr"></div>
                    <div class="cube-face cube-bottom ml"></div>
                    <div class="cube-face cube-bottom mm"></div>
                    <div class="cube-face cube-bottom mr"></div>
                </div>
            </div>
        </div>
        <div class="rotation-utils text-center" style="margin-bottom: 3px">
            <button type="button" class="btn btn-primary frontBtn" value="Front" onclick="rotateToFront()">Front</button>
            <button type="button" class="btn btn-primary backBtn" value="Back" onclick="rotateToBack()">Back</button>
            <button type="button" class="btn btn-primary leftBtn" value="Left" onclick="rotateToLeft()">Left</button>
            <button type="button" class="btn btn-primary rightBtn" value="Right" onclick="rotateToRight()">Right</button>
            <button type="button" class="btn btn-primary topBtn" value="Top" onclick="rotateToTop()">Top</button>
            <button type="button" class="btn btn-primary bottomBtn" value="Bottom" onclick="rotateToBottom()">Bottom</button>
        </div>
        <div class="twist-utils text-center">
            <button type="button" class="btn btn-primary" value="twist up" onclick="turnUp()">Twist Up</button>
            <button type="button" class="btn btn-primary" value="twist down" onclick="turnDown()">Twist Down</button>
            <button type="button" class="btn btn-primary" value="twist left" onclick="turnLeft()">Twist Left</button>
            <button type="button" class="btn btn-primary" value="twist right" onclick="turnRight()">Twist Right</button>
        </div>
        <div class="color-utils text-center">
            <p>Choose your cubes colors:</p>

            <div>
                <input type="color" id="frontColor" name="FrontColor"
                       value="#ffffdd" onchange="changeColor(this)">
                <label for="FrontColor">Front</label>

                <input type="color" id="backColor" name="backColor"
                       value="#00ff00" onchange="changeColor(this)">
                <label for="backColor">Back</label>

                <input type="color" id="leftColor" name="leftColor"
                       value="#ffa500" onchange="changeColor(this)">
                <label for="leftColor">Left</label>

                <input type="color" id="rightColor" name="rightColor"
                       value="#1e90ff" onchange="changeColor(this)">
                <label for="rightColor">Right</label>

                <input type="color" id="topColor" name="topColor"
                       value="#ee7600" onchange="changeColor(this)">
                <label for="topColor">Top</label>

                <input type="color" id="bottomColor" name="bottomColor"
                       value="#ff0000" onchange="changeColor(this)">
                <label for="bottomColor">Bottom</label>
            </div>
        </div>
        <div class="rotation-sliders">
            <div class="slidecontainer">
                <label for="myRange">Adjust X</label>
                <input type="range" min="1" max="360" value="0" class="slider" id="myRange" onchange="adjustX(this)">
                <label for="myRange">Adjust Y</label>
                <input type="range" min="1" max="360" value="0" class="slider" id="myRange" onchange="adjustY(this)">
            </div>
        </div>
    </div>
</body>
</html>

<style>

    .container{
        width: 100vw;
    }

    .scene {
        width: 300px;
        height: 380px;
        perspective: 3000px;
        margin-top: 300px;
        margin-left: auto;
        margin-right: auto;
        display: flex;
        justify-content: center;
    }

    .cube {
        position: relative;
        width: 200px;
        height: 200px;
        transform-style: preserve-3d;
        transform: translateZ(-100px) rotateY(30deg);
        transition: transform 1s;
        -webkit-transform-style: preserve-3d;
    }

    [class^="cube-side"] {
        position: absolute;
        height: 100%;
        width: 100%;
        -webkit-transform-style: preserve-3d;
    }


    .cube-face {
        position: absolute;
        height: 33%;
        width: 33%;
        -webkit-transform-style: preserve-3d;
    }

    .cube-front,
    .cube-back,
    .cube-left,
    .cube-right,
    .cube-top,
    .cube-bottom {
        border: 2px solid black;
    }

    .cube-front {
        background-color: white;
    }

    .cube-left {
        background-color: green;
    }

    .cube-top {
        background-color: darkorange;
    }

    .tm,
    .mm,
    .bm {
        right: 0;
        left: 0;
        margin-left: auto;
        margin-right: auto;
    }

    .ml,
    .mm,
    .mr {
        top: 0;
        bottom: 0;
        margin-top: auto;
        margin-bottom: auto;
    }

    .bl,
    .br,
    .bm {
        bottom: 0;
    }

    .tr,
    .mr,
    .br {
        right: 0;
    }

    .cube-left {
        transform: translateZ(100px);
        background-color: #ffa500;
    }

    .cube-right {
        transform: translateZ(100px);
        background-color: #1e90ff;
    }

    .cube-back {
        transform: translateZ(100px);
        background-color: #00ff00;
    }

    .cube-bottom {
        background-color: #ff0000;
    }

    .cube-side-right {
        transform: rotateY(90deg) translateX(100px);
    }

    .cube-side-back {
        transform: rotateY(180deg) translateZ(100px);
    }

    .cube-side-top {
        transform: translateZ(-100px) translateY(-100px) rotateX(90deg);
    }

    .cube-side-left {
        transform: rotateY(270deg) translateX(-100px) translateZ(100px);
        -webkit-backface-visibility: hidden;
        -webkit-transform: scale(1) rotateY(270deg) translateX(-100px);
    }

    .cube-side-bottom {
        transform: rotateX(90deg) translateZ(-100px) translateY(-100px) rotateY(180deg) rotateZ(180deg);
    }

    /*UTILITY FOR ROTATING CUBE*/

    @keyframes cube {
        100% {
            -moz-transform: rotate(360deg);
            -ms-transform: rotate(360deg);
            transform: rotate(360deg);
        }
    }

    .selected {
        background-color: orange;
    }

    .rotation-utils button,
    .twist-utils,
    .color-utils {
    }

    .topBtn {
        background-color: #ee7600;
    }

    .backBtn {
        background-color: #00ff00;
    }

    .leftBtn {
        background-color: #ffa500;
    }

    .frontBtn {
        background-color: grey;
    }

    .bottomBtn {
        background-color: #ff0000;
    }

    .rightBtn {
        background-color: #1e90ff;
    }
</style>

<script>
    let cube = $(".cube");
    let face = $(".cube-face");
    var sides = ["front", "back", "left", "right", "top", "bottom"];
    var currSide = sides[0];
    var selectedPosition = "";
    var defaultColors = ["blue", "green", "red", "yellow", "pink", "purple"];

    var frontFaces = $(cube).find("cube-face.cube-front");

    for (var i = 0; i < face.length; i++) {
        $(face[i]).click(function () {
            console.log($(this).css("background-color"));
            if (this.classList.contains("tl")) { selectedPosition = "tl"; }
            else if (this.classList.contains("tm")) { selectedPosition = "tm"; }
            else if (this.classList.contains("tr")) { selectedPosition = "tr"; }
            else if (this.classList.contains("ml")) { selectedPosition = "ml" }
            else if (this.classList.contains("mm")) { selectedPosition = "mm"; }
            else if (this.classList.contains("mr")) { selectedPosition = "mr"; }
            else if (this.classList.contains("bl")) { selectedPosition = "bl"; }
            else if (this.classList.contains("bm")) { selectedPosition = "bm"; }
            else if (this.classList.contains("br")) { selectedPosition = "br"; }
            if (!(this.classList.contains("selected"))) { removeSelected(cube); $(this).addClass("selected"); }
            else if (this.classList.contains("selected")) { $(this).removeClass("selected") }
            if (this.classList.contains("selected")) { $(this).removeClass("selected"); }
        });
    }

    function rotateToFront() {
        $(cube).css({
            "transform": "rotateY(0deg)"
        });
        currSide = sides[0];
    }

    function rotateToBack() {
        $(cube).css({
            "transform": "rotateY(180deg)"
        });
        currSide = sides[1];
    }

    function rotateToLeft() {
        $(cube).css({
            "transform": "rotateY(90deg)"
        });
        currSide = sides[2];
    }

    function rotateToRight() {
        $(cube).css({
            "transform": "rotateY(270deg)"
        });
        currSide = sides[3];
    }

    function rotateToTop() {
        $(cube).css({
            "transform": "rotateX(270deg)"
        });
        currSide = sides[4];
    }

    function rotateToBottom() {
        $(cube).css({
            "transform": "rotateX(90deg)"
        });
        currSide = sides[5];
    }

    function turnUp() {
        if (selectedPosition == "tm" || selectedPosition == "mm" || selectedPosition == "bm") {
            turnUpMiddle();
        } else if ((selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br") && currSide == "right") {
            turnUpRightSideRightCol();
        } else if (((selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br") && currSide != "left") || (currSide == "back" && (selectedPosition == "tl" || selectedPosition == "ml" || selectedPosition == "bl"))) {
            turnUpRight();
        } else if (currSide == "front" && (selectedPosition == "tl" || selectedPosition == "ml" || selectedPosition == "bl")) {
            turnUpLeft();
        }
        else if ((selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br") && currSide == "left") {
            turnUpLeftSideRightCol();
        } else if ((selectedPosition == "bl" || selectedPosition == "ml" || selectedPosition == "tl") && currSide == "left") {
            turnUpLeftSideLeftCol();
        } else if ((selectedPosition == "bl" || selectedPosition == "ml" || selectedPosition == "tl") && currSide == "right") {
            turnUpRightSideLeftCol();
        } else if ((selectedPosition == "bl" || selectedPosition == "ml" || selectedPosition == "tl") && currSide == "top")
        {
            turnUpLeft();
        }

        console.log(checkWin());
    }

    function turnUpRight() {
        var frontRight = [$(cube).find(".cube-side-front .tr"), $(cube).find(".cube-side-front .mr"), $(cube).find(".cube-side-front .br")];
        var topRight = [$(cube).find(".cube-side-top .tr"), $(cube).find(".cube-side-top .mr"), $(cube).find(".cube-side-top .br")];
        var backLeft = [$(cube).find(".cube-side-back .tl"), $(cube).find(".cube-side-back .ml"), $(cube).find(".cube-side-back .bl")];
        var bottomRight = [$(cube).find(".cube-side-bottom .tr"), $(cube).find(".cube-side-bottom .mr"), $(cube).find(".cube-side-bottom .br")];
        var allRight = $(cube).find(".cube-side-right .cube-face");
        var frontLeft = [$(cube).find(".cube-side-front .tl"), $(cube).find(".cube-side-front .ml"), $(cube).find(".cube-side-front .bl")];
        var topLeft = [$(cube).find(".cube-side-top .tl"), $(cube).find(".cube-side-top .ml"), $(cube).find(".cube-side-top .bl")];
        var backRight = [$(cube).find(".cube-side-back .tr"), $(cube).find(".cube-side-back .mr"), $(cube).find(".cube-side-back .br")];
        var bottomLeft = [$(cube).find(".cube-side-bottom .bl"), $(cube).find(".cube-side-bottom .ml"), $(cube).find(".cube-side-bottom .tl")];

        var allLeft = $(cube).find(".cube-side-left .cube-face");

        if (currSide == "back" && (selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br")) {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontLeft[i]).css("background-color");
                var col2 = $(topLeft[i]).css("background-color");
                var col3 = $(bottomLeft[i]).css("background-color");
                var col4 = $(backRight[i]).css("background-color");

                $(frontLeft[i]).css({
                    "background-color": col2
                });

                $(topLeft[i]).css({
                    "background-color": col4
                });

                $(backRight[i]).css({
                    "background-color": col3
                });

                $(bottomLeft[i]).css({
                    "background-color": col1
                });
            }

            var colorsForRotation = [];
            for (var i = 0; i < 9; i++) {
                colorsForRotation[i] = $(allRight[i]).css("background-color");
            }

            for (var i = 0; i < allRight.length; i++) {
                if (i % 2 == 0) {

                    if (i == 8) {
                        $(allRight[i]).css("background-color", colorsForRotation[2]);
                    } else if (i == 6) {
                        $(allRight[i]).css("background-color", colorsForRotation[8]);
                    } else if (i == 2) {
                        $(allRight[i]).css("background-color", colorsForRotation[0]);
                    } else if (i == 0) {
                        $(allRight[i]).css("background-color", colorsForRotation[6]);
                    }
                } else if (i % 2 != 0) {
                    if (i == 1) {
                        $(allRight[i]).css("background-color", colorsForRotation[3]);
                    } else if (i == 3) {
                        $(allRight[i]).css("background-color", colorsForRotation[7]);
                    } else if (i == 5) {
                        $(allRight[i]).css("background-color", colorsForRotation[1]);
                    } else if (i == 7) {
                        $(allRight[i]).css("background-color", colorsForRotation[5]);
                    }
                }
            }
        }
        else if (currSide == "back") {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontRight[i]).css("background-color");
                var col2 = $(topRight[i]).css("background-color");
                var col3 = $(bottomRight[i]).css("background-color");
                var col4 = $(backLeft[i]).css("background-color");

                $(frontRight[i]).css({
                    "background-color": col2
                });

                $(topRight[i]).css({
                    "background-color": col4
                });

                $(backLeft[i]).css({
                    "background-color": col3
                });

                $(bottomRight[i]).css({
                    "background-color": col1
                });
            }

            var colorsForRotation = [];
            for (var i = 0; i < 9; i++) {
                colorsForRotation[i] = $(allRight[i]).css("background-color");
            }

            for (var i = 0; i < allRight.length; i++) {
                if (i % 2 == 0) {

                    if (i == 8) {
                        $(allRight[i]).css("background-color", colorsForRotation[6]);
                    } else if (i == 6) {
                        $(allRight[i]).css("background-color", colorsForRotation[0]);
                    } else if (i == 2) {
                        $(allRight[i]).css("background-color", colorsForRotation[8]);
                    } else if (i == 0) {
                        $(allRight[i]).css("background-color", colorsForRotation[2]);
                    }
                } else if (i % 2 != 0) {
                    if (i == 1) {
                        $(allRight[i]).css("background-color", colorsForRotation[5]);
                    } else if (i == 3) {
                        $(allRight[i]).css("background-color", colorsForRotation[1]);
                    } else if (i == 5) {
                        $(allRight[i]).css("background-color", colorsForRotation[7]);
                    } else if (i == 7) {
                        $(allRight[i]).css("background-color", colorsForRotation[3]);
                    }
                }
            }
        }
        else if ((currSide == "front" || currSide == "top" || currSide == "bottom") || (currSide == "back" && (selectedPosition == "tl" || selectedPosition == "ml" || selectedPosition == "bl"))) {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontRight[i]).css("background-color");
                var col2 = $(topRight[i]).css("background-color");
                var col3 = $(bottomRight[i]).css("background-color");
                var col4 = $(backLeft[i]).css("background-color");

                $(frontRight[i]).css({
                    "background-color": col3
                });

                $(topRight[i]).css({
                    "background-color": col1
                });

                $(backLeft[i]).css({
                    "background-color": col2
                });

                $(bottomRight[i]).css({
                    "background-color": col4
                });
            }

            var colorsForRotation = [];
            for (var i = 0; i < 9; i++) {
                colorsForRotation[i] = $(allRight[i]).css("background-color");
            }

            for (var i = 0; i < allRight.length; i++) {
                if (i % 2 == 0) {

                    if (i == 8) {
                        $(allRight[i]).css("background-color", colorsForRotation[2]);
                    } else if (i == 6) {
                        $(allRight[i]).css("background-color", colorsForRotation[8]);
                    } else if (i == 2) {
                        $(allRight[i]).css("background-color", colorsForRotation[0]);
                    } else if (i == 0) {
                        $(allRight[i]).css("background-color", colorsForRotation[6]);
                    }
                } else if (i % 2 != 0) {
                    if (i + 4 > 8) {
                        $(allRight[i]).css("background-color", colorsForRotation[i - 4]);
                    } else {
                        $(allRight[i]).css("background-color", colorsForRotation[i + 4]);
                    }
                }
            }
        }
    }

    function turnUpLeft() {
        var frontLeft = [$(cube).find(".cube-side-front .tl"), $(cube).find(".cube-side-front .ml"), $(cube).find(".cube-side-front .bl")];
        var topLeft = [$(cube).find(".cube-side-top .tl"), $(cube).find(".cube-side-top .ml"), $(cube).find(".cube-side-top .bl")];
        var backRight = [$(cube).find(".cube-side-back .tr"), $(cube).find(".cube-side-back .mr"), $(cube).find(".cube-side-back .br")];
        var bottomLeft = [$(cube).find(".cube-side-bottom .bl"), $(cube).find(".cube-side-bottom .ml"), $(cube).find(".cube-side-bottom .tl")];
        var allLeft = $(cube).find(".cube-side-left .cube-face");

        if ((currSide == "front" || currSide == "top" || currSide == "bottom") || (currSide == "back" && (selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br"))) {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontLeft[i]).css("background-color");
                var col2 = $(topLeft[i]).css("background-color");
                var col3 = $(bottomLeft[i]).css("background-color");
                var col4 = $(backRight[i]).css("background-color");

                $(frontLeft[i]).css({
                    "background-color": col3
                });

                $(topLeft[i]).css({
                    "background-color": col1
                });

                $(backRight[i]).css({
                    "background-color": col2
                });

                $(bottomLeft[i]).css({
                    "background-color": col4
                });
            }
        }
    }

    function turnDownFrontLeft() {
        var frontLeft = [$(cube).find(".cube-side-front .tl"), $(cube).find(".cube-side-front .ml"), $(cube).find(".cube-side-front .bl")];
        var topLeft = [$(cube).find(".cube-side-top .tl"), $(cube).find(".cube-side-top .ml"), $(cube).find(".cube-side-top .bl")];
        var backRight = [$(cube).find(".cube-side-back .tr"), $(cube).find(".cube-side-back .mr"), $(cube).find(".cube-side-back .br")];
        var allLeft = $(cube).find(".cube-side-left .cube-face");
        var bottomLeft = [$(cube).find(".cube-side-bottom .bl"), $(cube).find(".cube-side-bottom .ml"), $(cube).find(".cube-side-bottom .tl")];

        if ((currSide == "front" || currSide == "top" || currSide == "bottom") || (currSide == "back" && (selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br"))) {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontLeft[i]).css("background-color");
                var col2 = $(topLeft[i]).css("background-color");
                var col3 = $(bottomLeft[i]).css("background-color");
                var col4 = $(backRight[i]).css("background-color");

                $(frontLeft[i]).css({
                    "background-color": col2
                });

                $(topLeft[i]).css({
                    "background-color": col4
                });

                $(backRight[i]).css({
                    "background-color": col3
                });

                $(bottomLeft[i]).css({
                    "background-color": col1
                });
            }

            var colorsForRotation = [];
            for (var i = 0; i < 9; i++) {
                colorsForRotation[i] = $(allLeft[i]).css("background-color");
            }

            for (var i = 0; i < allLeft.length; i++) {
                if (i % 2 == 0) {

                    if (i == 8) {
                        $(allLeft[i]).css("background-color", colorsForRotation[2]);
                    } else if (i == 6) {
                        $(allLeft[i]).css("background-color", colorsForRotation[8]);
                    } else if (i == 2) {
                        $(allLeft[i]).css("background-color", colorsForRotation[0]);
                    } else if (i == 0) {
                        $(allRight[i]).css("background-color", colorsForRotation[4]);
                    }
                } else if (i % 2 != 0) {
                    if (i == 1) {
                        $(allLeft[i]).css("background-color", colorsForRotation[3]);
                    } else if (i == 3) {
                        $(allLeft[i]).css("background-color", colorsForRotation[7]);
                    } else if (i == 5) {
                        $(allLeft[i]).css("background-color", colorsForRotation[1]);
                    } else if (i == 7) {
                        $(allLeft[i]).css("background-color", colorsForRotation[5]);
                    }
                }
            }
        }
    }

    function turnDownRight() {
        var frontRight = [$(cube).find(".cube-side-front .tr"), $(cube).find(".cube-side-front .mr"), $(cube).find(".cube-side-front .br")];
        var topRight = [$(cube).find(".cube-side-top .tr"), $(cube).find(".cube-side-top .mr"), $(cube).find(".cube-side-top .br")];
        var backLeft = [$(cube).find(".cube-side-back .tl"), $(cube).find(".cube-side-back .ml"), $(cube).find(".cube-side-back .bl")];
        var bottomRight = [$(cube).find(".cube-side-bottom .tr"), $(cube).find(".cube-side-bottom .mr"), $(cube).find(".cube-side-bottom .br")];
        var allRight = $(cube).find(".cube-side-right .cube-face");
        var frontLeft = [$(cube).find(".cube-side-front .tl"), $(cube).find(".cube-side-front .ml"), $(cube).find(".cube-side-front .bl")];
        var topLeft = [$(cube).find(".cube-side-top .tl"), $(cube).find(".cube-side-top .ml"), $(cube).find(".cube-side-top .bl")];
        var backRight = [$(cube).find(".cube-side-back .tr"), $(cube).find(".cube-side-back .mr"), $(cube).find(".cube-side-back .br")];
        var bottomLeft = [$(cube).find(".cube-side-bottom .bl"), $(cube).find(".cube-side-bottom .ml"), $(cube).find(".cube-side-bottom .tl")];
        var allLeft = $(cube).find(".cube-side-left .cube-face");

        if ((selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br") && currSide == "back") {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontLeft[i]).css("background-color");
                var col2 = $(topLeft[i]).css("background-color");
                var col3 = $(bottomLeft[i]).css("background-color");
                var col4 = $(backRight[i]).css("background-color");

                $(frontLeft[i]).css({
                    "background-color": col3
                });

                $(topLeft[i]).css({
                    "background-color": col1
                });

                $(backRight[i]).css({
                    "background-color": col2
                });

                $(bottomLeft[i]).css({
                    "background-color": col4
                });
            }

            var colorsForRotation = [];
            for (var i = 0; i < 9; i++) {
                colorsForRotation[i] = $(allRight[i]).css("background-color");
            }

            for (var i = 0; i < allRight.length; i++) {
                if (i % 2 == 0) {

                    if (i == 8) {
                        $(allRight[i]).css("background-color", colorsForRotation[2]);
                    } else if (i == 6) {
                        $(allRight[i]).css("background-color", colorsForRotation[8]);
                    } else if (i == 2) {
                        $(allRight[i]).css("background-color", colorsForRotation[0]);
                    } else if (i == 0) {
                        $(allRight[i]).css("background-color", colorsForRotation[6]);
                    }
                } else if (i % 2 != 0) {
                    if (i == 1) {
                        $(allRight[i]).css("background-color", colorsForRotation[3]);
                    } else if (i == 3) {
                        $(allRight[i]).css("background-color", colorsForRotation[7]);
                    } else if (i == 5) {
                        $(allRight[i]).css("background-color", colorsForRotation[1]);
                    } else if (i == 7) {
                        $(allRight[i]).css("background-color", colorsForRotation[5]);
                    }
                }
            }
        } else if (currSide == "back") {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontRight[i]).css("background-color");
                var col2 = $(topRight[i]).css("background-color");
                var col3 = $(bottomRight[i]).css("background-color");
                var col4 = $(backLeft[i]).css("background-color");

                $(frontRight[i]).css({
                    "background-color": col3
                });

                $(topRight[i]).css({
                    "background-color": col1
                });

                $(backLeft[i]).css({
                    "background-color": col2
                });

                $(bottomRight[i]).css({
                    "background-color": col4
                });
            }

            var colorsForRotation = [];
            for (var i = 0; i < 9; i++) {
                colorsForRotation[i] = $(allRight[i]).css("background-color");
            }

            for (var i = 0; i < allRight.length; i++) {
                if (i % 2 == 0) {

                    if (i == 8) {
                        $(allRight[i]).css("background-color", colorsForRotation[2]);
                    } else if (i == 6) {
                        $(allRight[i]).css("background-color", colorsForRotation[8]);
                    } else if (i == 2) {
                        $(allRight[i]).css("background-color", colorsForRotation[0]);
                    } else if (i == 0) {
                        $(allRight[i]).css("background-color", colorsForRotation[6]);
                    }
                } else if (i % 2 != 0) {
                    if (i == 1) {
                        $(allRight[i]).css("background-color", colorsForRotation[3]);
                    } else if (i == 3) {
                        $(allRight[i]).css("background-color", colorsForRotation[7]);
                    } else if (i == 5) {
                        $(allRight[i]).css("background-color", colorsForRotation[1]);
                    } else if (i == 7) {
                        $(allRight[i]).css("background-color", colorsForRotation[5]);
                    }
                }
            }
        }
        else if ((currSide == "front" || currSide == "top" || currSide == "bottom") || (currSide == "back" && (selectedPosition == "tl" || selectedPosition == "ml" || selectedPosition == "bl"))) {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontRight[i]).css("background-color");
                var col2 = $(topRight[i]).css("background-color");
                var col3 = $(bottomRight[i]).css("background-color");
                var col4 = $(backLeft[i]).css("background-color");

                $(frontRight[i]).css({
                    "background-color": col2
                });

                $(topRight[i]).css({
                    "background-color": col4
                });

                $(backLeft[i]).css({
                    "background-color": col3
                });

                $(bottomRight[i]).css({
                    "background-color": col1
                });
            }

            var colorsForRotation = [];
            for (var i = 0; i < 9; i++) {
                colorsForRotation[i] = $(allRight[i]).css("background-color");
            }

            for (var i = 0; i < allRight.length; i++) {
                if (i % 2 == 0) {

                    if (i == 8) {
                        $(allRight[i]).css("background-color", colorsForRotation[6]);
                    } else if (i == 6) {
                        $(allRight[i]).css("background-color", colorsForRotation[0]);
                    } else if (i == 2) {
                        $(allRight[i]).css("background-color", colorsForRotation[8]);
                    } else if (i == 0) {
                        $(allRight[i]).css("background-color", colorsForRotation[2]);
                    }
                } else if (i % 2 != 0) {
                    if (i == 1) {
                        $(allRight[i]).css("background-color", colorsForRotation[5]);
                    } else if (i == 3) {
                        $(allRight[i]).css("background-color", colorsForRotation[1]);
                    } else if (i == 5) {
                        $(allRight[i]).css("background-color", colorsForRotation[7]);
                    } else if (i == 7) {
                        $(allRight[i]).css("background-color", colorsForRotation[3]);
                    }
                }
            }
        }
    }

    function turnDown() {
        if ((selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br") && currSide == "left") {
            turnDownLeftSideRightCol();
        } else if ((selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br") && currSide == "right") {
            turnDownRightSideRightCol();
        }
        else if (selectedPosition == "tm" || selectedPosition == "mm" || selectedPosition == "bm") {
            turnDownMiddle();
        } else if (((selectedPosition == "br" || selectedPosition == "mr" || selectedPosition == "tr") && currSide != "back") || ((selectedPosition == "bl" || selectedPosition == "ml" || selectedPosition == "tl") && currSide == "back")) {
            turnDownRight();
        } else if ((selectedPosition == "bl" || selectedPosition == "ml" || selectedPosition == "tl") && currSide == "back") {
            turnDownFrontLeft();
        } else if ((selectedPosition == "tl" || selectedPosition == "ml" || selectedPosition == "bl") && currSide == "left") {
            turnDownLeftSideLeftCol();
        } else if ((selectedPosition == "bl" || selectedPosition == "ml" || selectedPosition == "tl") && currSide == "right") {
            turnDownRightSideLeftCol();
        } else if ((selectedPosition == "tl" || selectedPosition == "ml" || selectedPosition == "bl") && (currSide == "" || currSide == "front")) {
            turnDownFrontLeft();
        } else if ((selectedPosition == "tr" || selectedPosition == "mr" || selectedPosition == "br") && currSide == "back") {
            turnUpLeft();
        } else if ((selectedPosition == "tl" || selectedPosition == "ml" || selectedPosition == "bl") && currSide == "top")
        {
            turnDownFrontLeft();
        }
            checkWin();
    }

    function turnUpMiddle() {
        var frontMiddle = [$(cube).find(".cube-side-front .tm"), $(cube).find(".cube-side-front .mm"), $(cube).find(".cube-side-front .bm")];
        var topMiddle = [$(cube).find(".cube-side-top .tm"), $(cube).find(".cube-side-top .mm"), $(cube).find(".cube-side-top .bm")];
        var backMiddle = [$(cube).find(".cube-side-back .tm"), $(cube).find(".cube-side-back .mm"), $(cube).find(".cube-side-back .bm")];
        var bottomMiddle = [$(cube).find(".cube-side-bottom .tm"), $(cube).find(".cube-side-bottom .mm"), $(cube).find(".cube-side-bottom .bm")];
        var leftMiddle = [$(cube).find(".cube-side-left .tm"), $(cube).find(".cube-side-left .mm"), $(cube).find(".cube-side-left .bm")];
        var rightMiddle = [$(cube).find(".cube-side-right .tm"), $(cube).find(".cube-side-right .mm"), $(cube).find(".cube-side-right .bm")];

        if (currSide == "back") {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontMiddle[i]).css("background-color");
                var col2 = $(topMiddle[i]).css("background-color");
                var col3 = $(backMiddle[i]).css("background-color");
                var col4 = $(bottomMiddle[i]).css("background-color");

                $(topMiddle[i]).css({
                    "background-color": col3
                });

                $(backMiddle[i]).css({
                    "background-color": col4
                });

                $(bottomMiddle[i]).css({
                    "background-color": col1
                });

                $(frontMiddle[i]).css({
                    "background-color": col2
                });
            }
        }
        else if (currSide == "front" || currSide == "top" || currSide == "bottom") {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontMiddle[i]).css("background-color");
                var col2 = $(topMiddle[i]).css("background-color");
                var col3 = $(backMiddle[i]).css("background-color");
                var col4 = $(bottomMiddle[i]).css("background-color");

                $(topMiddle[i]).css({
                    "background-color": col1
                });

                $(backMiddle[i]).css({
                    "background-color": col2
                });

                $(bottomMiddle[i]).css({
                    "background-color": col3
                });

                $(frontMiddle[i]).css({
                    "background-color": col4
                });
            }
        } else if (currSide == "left") {
            topMiddle = [$(cube).find(".cube-side-top .ml"), $(cube).find(".cube-side-top .mm"), $(cube).find(".cube-side-top .mr")];
            bottomMiddle = [$(cube).find(".cube-side-bottom .ml"), $(cube).find(".cube-side-bottom .mm"), $(cube).find(".cube-side-bottom .mr")];

            for (i = 0; i < 3; i++) {
                var col1 = $(leftMiddle[i]).css("background-color");
                var col2 = $(topMiddle[i]).css("background-color");
                var col3 = $(rightMiddle[i]).css("background-color");
                var col4 = $(bottomMiddle[i]).css("background-color");

                $(topMiddle[i]).css({
                    "background-color": col1
                });

                $(leftMiddle[i]).css({
                    "background-color": col4
                });

                $(bottomMiddle[i]).css({
                    "background-color": col3
                });

                $(rightMiddle[i]).css({
                    "background-color": col2
                });
            }
        } else if (currSide == "right")
        {
            for (i = 0; i < 3; i++) {
                var col1 = $(leftMiddle[i]).css("background-color");
                var col2 = $(topMiddle[i]).css("background-color");
                var col3 = $(rightMiddle[i]).css("background-color");
                var col4 = $(bottomMiddle[i]).css("background-color");

                $(topMiddle[i]).css({
                    "background-color": col3
                });

                $(leftMiddle[i]).css({
                    "background-color": col2
                });

                $(bottomMiddle[i]).css({
                    "background-color": col1
                });

                $(rightMiddle[i]).css({
                    "background-color": col4
                });
            }
        }
    }

    function turnRightTopMid() {
        var frontMiddle = [$(cube).find(".cube-side-front .tm"), $(cube).find(".cube-side-front .mm"), $(cube).find(".cube-side-front .bm")];
        var topMiddle = [$(cube).find(".cube-side-top .ml"), $(cube).find(".cube-side-top .mm"), $(cube).find(".cube-side-top .mr")];
        var backMiddle = [$(cube).find(".cube-side-back .tm"), $(cube).find(".cube-side-back .mm"), $(cube).find(".cube-side-back .bm")];
        var bottomMiddle = [$(cube).find(".cube-side-bottom .ml"), $(cube).find(".cube-side-bottom .mm"), $(cube).find(".cube-side-bottom .mr")];
        var leftMiddle = [$(cube).find(".cube-side-left .tm"), $(cube).find(".cube-side-left .mm"), $(cube).find(".cube-side-left .bm")];
        var rightMiddle = [$(cube).find(".cube-side-right .tm"), $(cube).find(".cube-side-right .mm"), $(cube).find(".cube-side-right .bm")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftMiddle[i]).css("background-color");
            var col2 = $(topMiddle[i]).css("background-color");
            var col3 = $(rightMiddle[i]).css("background-color");
            var col4 = $(bottomMiddle[i]).css("background-color");

            $(topMiddle[i]).css({
                "background-color": col1
            });

            $(leftMiddle[i]).css({
                "background-color": col4
            });

            $(bottomMiddle[i]).css({
                "background-color": col3
            });

            $(rightMiddle[i]).css({
                "background-color": col2
            });
        }
    }

    function turnRightBottomMid() {
        var frontMiddle = [$(cube).find(".cube-side-front .tm"), $(cube).find(".cube-side-front .mm"), $(cube).find(".cube-side-front .bm")];
        var topMiddle = [$(cube).find(".cube-side-top .ml"), $(cube).find(".cube-side-top .mm"), $(cube).find(".cube-side-top .mr")];
        var backMiddle = [$(cube).find(".cube-side-back .tm"), $(cube).find(".cube-side-back .mm"), $(cube).find(".cube-side-back .bm")];
        var bottomMiddle = [$(cube).find(".cube-side-bottom .ml"), $(cube).find(".cube-side-bottom .mm"), $(cube).find(".cube-side-bottom .mr")];
        var leftMiddle = [$(cube).find(".cube-side-left .tm"), $(cube).find(".cube-side-left .mm"), $(cube).find(".cube-side-left .bm")];
        var rightMiddle = [$(cube).find(".cube-side-right .tm"), $(cube).find(".cube-side-right .mm"), $(cube).find(".cube-side-right .bm")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftMiddle[i]).css("background-color");
            var col2 = $(topMiddle[i]).css("background-color");
            var col3 = $(rightMiddle[i]).css("background-color");
            var col4 = $(bottomMiddle[i]).css("background-color");

            $(topMiddle[i]).css({
                "background-color": col3
            });

            $(leftMiddle[i]).css({
                "background-color": col2
            });

            $(bottomMiddle[i]).css({
                "background-color": col1
            });

            $(rightMiddle[i]).css({
                "background-color": col4
            });
        }
    }

    function turnLeftBottomMid() {
        var frontMiddle = [$(cube).find(".cube-side-front .tm"), $(cube).find(".cube-side-front .mm"), $(cube).find(".cube-side-front .bm")];
        var topMiddle = [$(cube).find(".cube-side-top .ml"), $(cube).find(".cube-side-top .mm"), $(cube).find(".cube-side-top .mr")];
        var backMiddle = [$(cube).find(".cube-side-back .tm"), $(cube).find(".cube-side-back .mm"), $(cube).find(".cube-side-back .bm")];
        var bottomMiddle = [$(cube).find(".cube-side-bottom .ml"), $(cube).find(".cube-side-bottom .mm"), $(cube).find(".cube-side-bottom .mr")];
        var leftMiddle = [$(cube).find(".cube-side-left .tm"), $(cube).find(".cube-side-left .mm"), $(cube).find(".cube-side-left .bm")];
        var rightMiddle = [$(cube).find(".cube-side-right .tm"), $(cube).find(".cube-side-right .mm"), $(cube).find(".cube-side-right .bm")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftMiddle[i]).css("background-color");
            var col2 = $(topMiddle[i]).css("background-color");
            var col3 = $(rightMiddle[i]).css("background-color");
            var col4 = $(bottomMiddle[i]).css("background-color");

            $(topMiddle[i]).css({
                "background-color": col1
            });

            $(leftMiddle[i]).css({
                "background-color": col4
            });

            $(bottomMiddle[i]).css({
                "background-color": col3
            });

            $(rightMiddle[i]).css({
                "background-color": col2
            });
        }
    }

    function turnDownMiddle() {
        var frontMiddle = [$(cube).find(".cube-side-front .tm"), $(cube).find(".cube-side-front .mm"), $(cube).find(".cube-side-front .bm")];
        var topMiddle = [$(cube).find(".cube-side-top .tm"), $(cube).find(".cube-side-top .mm"), $(cube).find(".cube-side-top .bm")];
        var backMiddle = [$(cube).find(".cube-side-back .tm"), $(cube).find(".cube-side-back .mm"), $(cube).find(".cube-side-back .bm")];
        var bottomMiddle = [$(cube).find(".cube-side-bottom .tm"), $(cube).find(".cube-side-bottom .mm"), $(cube).find(".cube-side-bottom .bm")];
        var leftMiddle = [$(cube).find(".cube-side-left .tm"), $(cube).find(".cube-side-left .mm"), $(cube).find(".cube-side-left .bm")];
        var rightMiddle = [$(cube).find(".cube-side-right .tm"), $(cube).find(".cube-side-right .mm"), $(cube).find(".cube-side-right .bm")];

        if (currSide == "back") {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontMiddle[i]).css("background-color");
                var col2 = $(topMiddle[i]).css("background-color");
                var col3 = $(backMiddle[i]).css("background-color");
                var col4 = $(bottomMiddle[i]).css("background-color");

                $(topMiddle[i]).css({
                    "background-color": col1
                });

                $(backMiddle[i]).css({
                    "background-color": col2
                });

                $(bottomMiddle[i]).css({
                    "background-color": col3
                });

                $(frontMiddle[i]).css({
                    "background-color": col4
                });
            }
        }
        else if (currSide == "front" || currSide == "top" || currSide == "bottom" || currSide == "back") {
            for (i = 0; i < 3; i++) {
                var col1 = $(frontMiddle[i]).css("background-color");
                var col2 = $(topMiddle[i]).css("background-color");
                var col3 = $(backMiddle[i]).css("background-color");
                var col4 = $(bottomMiddle[i]).css("background-color");

                $(topMiddle[i]).css({
                    "background-color": col3
                });

                $(backMiddle[i]).css({
                    "background-color": col4
                });

                $(bottomMiddle[i]).css({
                    "background-color": col1
                });

                $(frontMiddle[i]).css({
                    "background-color": col2
                });
            }
        } else if (currSide == "left" || currSide == "right") {
            topMiddle = [$(cube).find(".cube-side-top .ml"), $(cube).find(".cube-side-top .mm"), $(cube).find(".cube-side-top .mr")];
            bottomMiddle = [$(cube).find(".cube-side-bottom .ml"), $(cube).find(".cube-side-bottom .mm"), $(cube).find(".cube-side-bottom .mr")];
            for (i = 0; i < 3; i++) {
                var col1 = $(leftMiddle[i]).css("background-color");
                var col2 = $(topMiddle[i]).css("background-color");
                var col3 = $(rightMiddle[i]).css("background-color");
                var col4 = $(bottomMiddle[i]).css("background-color");
                if (currSide == "left") {
                    $(topMiddle[i]).css({
                        "background-color": col3
                    });

                    $(leftMiddle[i]).css({
                        "background-color": col2
                    });

                    $(bottomMiddle[i]).css({
                        "background-color": col1
                    });

                    $(rightMiddle[i]).css({
                        "background-color": col4
                    });
                } else if (currSide == "right")
                {
                    $(topMiddle[i]).css({
                        "background-color": col1
                    });

                    $(leftMiddle[i]).css({
                        "background-color": col4
                    });

                    $(bottomMiddle[i]).css({
                        "background-color": col3
                    });

                    $(rightMiddle[i]).css({
                        "background-color": col2
                    });
                }
            }
        }
    }

    function turnUpLeftSideRightCol() {
        var allFront = [$(cube).find(".cube-side-front .cube-face")];
        var topBottom = [$(cube).find(".cube-side-top .bl"), $(cube).find(".cube-side-top .bm"), $(cube).find(".cube-side-top .br")];
        var rightLeft = [$(cube).find(".cube-side-right .tl"), $(cube).find(".cube-side-right .ml"), $(cube).find(".cube-side-right .bl")];
        var bottomTop = [$(cube).find(".cube-side-bottom .tr"), $(cube).find(".cube-side-bottom .tm"), $(cube).find(".cube-side-bottom .tl")];
        var leftRight = [$(cube).find(".cube-side-left .br"), $(cube).find(".cube-side-left .mr"), $(cube).find(".cube-side-left .tr")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftRight[i]).css("background-color");
            var col2 = $(topBottom[i]).css("background-color");
            var col3 = $(rightLeft[i]).css("background-color");
            var col4 = $(bottomTop[i]).css("background-color");

            $(topBottom[i]).css({
                "background-color": col1
            });

            $(bottomTop[i]).css({
                "background-color": col3
            });

            $(rightLeft[i]).css({
                "background-color": col2
            });

            $(leftRight[i]).css({
                "background-color": col4
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allFront[i]).css("background-color");
        }

        for (var i = 0; i < allFront.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allFront[i]).css("background-color", colorsForRotation[2]);
                } else if (i == 6) {
                    $(allFront[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 2) {
                    $(allFront[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 0) {
                    $(allFront[i]).css("background-color", colorsForRotation[6]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allFront[i]).css("background-color", colorsForRotation[3]);
                } else if (i == 3) {
                    $(allFront[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 5) {
                    $(allFront[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 7) {
                    $(allFront[i]).css("background-color", colorsForRotation[5]);
                }
            }
        }
    }

    function turnDownLeftSideRightCol() {
        var allFront = [$(cube).find(".cube-side-front .cube-face")];
        var topBottom = [$(cube).find(".cube-side-top .bl"), $(cube).find(".cube-side-top .bm"), $(cube).find(".cube-side-top .br")];
        var rightLeft = [$(cube).find(".cube-side-right .tl"), $(cube).find(".cube-side-right .ml"), $(cube).find(".cube-side-right .bl")];
        var bottomTop = [$(cube).find(".cube-side-bottom .tr"), $(cube).find(".cube-side-bottom .tm"), $(cube).find(".cube-side-bottom .tl")];
        var leftRight = [$(cube).find(".cube-side-left .br"), $(cube).find(".cube-side-left .mr"), $(cube).find(".cube-side-left .tr")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftRight[i]).css("background-color");
            var col2 = $(topBottom[i]).css("background-color");
            var col3 = $(rightLeft[i]).css("background-color");
            var col4 = $(bottomTop[i]).css("background-color");

            $(topBottom[i]).css({
                "background-color": col3
            });

            $(bottomTop[i]).css({
                "background-color": col1
            });

            $(rightLeft[i]).css({
                "background-color": col4
            });

            $(leftRight[i]).css({
                "background-color": col2
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allFront[i]).css("background-color");
        }

        for (var i = 0; i < allFront.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allFront[i]).css("background-color", colorsForRotation[6]);
                } else if (i == 6) {
                    $(allFront[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 2) {
                    $(allFront[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 0) {
                    $(allFront[i]).css("background-color", colorsForRotation[2]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allFront[i]).css("background-color", colorsForRotation[5]);
                } else if (i == 3) {
                    $(allFront[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 5) {
                    $(allFront[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 7) {
                    $(allFront[i]).css("background-color", colorsForRotation[3]);
                }
            }
        }
    }

    function turnDownLeftSideLeftCol() {
        var allBack = [$(cube).find(".cube-side-back .cube-face")];
        var topTop = [$(cube).find(".cube-side-top .tl"), $(cube).find(".cube-side-top .tm"), $(cube).find(".cube-side-top .tr")];
        var rightRight = [$(cube).find(".cube-side-right .tr"), $(cube).find(".cube-side-right .mr"), $(cube).find(".cube-side-right .br")];
        var bottomBottom = [$(cube).find(".cube-side-bottom .bl"), $(cube).find(".cube-side-bottom .bm"), $(cube).find(".cube-side-bottom .br")];
        var leftLeft = [$(cube).find(".cube-side-left .tl"), $(cube).find(".cube-side-left .ml"), $(cube).find(".cube-side-left .bl")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftLeft[i]).css("background-color");
            var col2 = $(topTop[i]).css("background-color");
            var col3 = $(rightRight[i]).css("background-color");
            var col4 = $(bottomBottom[i]).css("background-color");

            $(topTop[i]).css({
                "background-color": col3
            });

            $(bottomBottom[i]).css({
                "background-color": col1
            });

            $(rightRight[i]).css({
                "background-color": col4
            });

            $(leftLeft[i]).css({
                "background-color": col2
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allBack[i]).css("background-color");
        }

        for (var i = 0; i < allBack.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allBack[i]).css("background-color", colorsForRotation[2]);
                } else if (i == 6) {
                    $(allBack[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 2) {
                    $(allBack[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 0) {
                    $(allBack[i]).css("background-color", colorsForRotation[6]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allBack[i]).css("background-color", colorsForRotation[3]);
                } else if (i == 3) {
                    $(allBack[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 5) {
                    $(allBack[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 7) {
                    $(allFront[i]).css("background-color", colorsForRotation[5]);
                }
            }
        }
    }

    function turnUpLeftSideLeftCol() {
        var allBack = [$(cube).find(".cube-side-back .cube-face")];
        var topTop = [$(cube).find(".cube-side-top .tl"), $(cube).find(".cube-side-top .tm"), $(cube).find(".cube-side-top .tr")];
        var rightRight = [$(cube).find(".cube-side-right .tr"), $(cube).find(".cube-side-right .mr"), $(cube).find(".cube-side-right .br")];
        var bottomBottom = [$(cube).find(".cube-side-bottom .bl"), $(cube).find(".cube-side-bottom .bm"), $(cube).find(".cube-side-bottom .br")];
        var leftLeft = [$(cube).find(".cube-side-left .tl"), $(cube).find(".cube-side-left .ml"), $(cube).find(".cube-side-left .bl")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftLeft[i]).css("background-color");
            var col2 = $(topTop[i]).css("background-color");
            var col3 = $(rightRight[i]).css("background-color");
            var col4 = $(bottomBottom[i]).css("background-color");

            $(topTop[i]).css({
                "background-color": col1
            });

            $(bottomBottom[i]).css({
                "background-color": col3
            });

            $(rightRight[i]).css({
                "background-color": col2
            });

            $(leftLeft[i]).css({
                "background-color": col4
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allBack[i]).css("background-color");
        }

        for (var i = 0; i < allBack.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allBack[i]).css("background-color", colorsForRotation[6]);
                } else if (i == 6) {
                    $(allBack[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 2) {
                    $(allBack[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 0) {
                    $(allBack[i]).css("background-color", colorsForRotation[2]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allBack[i]).css("background-color", colorsForRotation[5]);
                } else if (i == 3) {
                    $(allBack[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 5) {
                    $(allBack[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 7) {
                    $(allFront[i]).css("background-color", colorsForRotation[3]);
                }
            }
        }
    }

    function turnUpRightSideLeftCol() {
        var allFront = [$(cube).find(".cube-side-front .cube-face")];
        var topBottom = [$(cube).find(".cube-side-top .bl"), $(cube).find(".cube-side-top .bm"), $(cube).find(".cube-side-top .br")];
        var rightLeft = [$(cube).find(".cube-side-right .tl"), $(cube).find(".cube-side-right .ml"), $(cube).find(".cube-side-right .bl")];
        var bottomTop = [$(cube).find(".cube-side-bottom .tr"), $(cube).find(".cube-side-bottom .tm"), $(cube).find(".cube-side-bottom .tl")];
        var leftRight = [$(cube).find(".cube-side-left .br"), $(cube).find(".cube-side-left .mr"), $(cube).find(".cube-side-left .tr")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftRight[i]).css("background-color");
            var col2 = $(topBottom[i]).css("background-color");
            var col3 = $(rightLeft[i]).css("background-color");
            var col4 = $(bottomTop[i]).css("background-color");

            $(topBottom[i]).css({
                "background-color": col3
            });

            $(bottomTop[i]).css({
                "background-color": col1
            });

            $(rightLeft[i]).css({
                "background-color": col4
            });

            $(leftRight[i]).css({
                "background-color": col2
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allFront[i]).css("background-color");
        }

        for (var i = 0; i < allFront.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allFront[i]).css("background-color", colorsForRotation[6]);
                } else if (i == 6) {
                    $(allFront[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 2) {
                    $(allFront[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 0) {
                    $(allFront[i]).css("background-color", colorsForRotation[2]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allFront[i]).css("background-color", colorsForRotation[5]);
                } else if (i == 3) {
                    $(allFront[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 5) {
                    $(allFront[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 7) {
                    $(allFront[i]).css("background-color", colorsForRotation[3]);
                }
            }
        }
    }

    function turnDownRightSideLeftCol() {
        var allFront = [$(cube).find(".cube-side-front .cube-face")];
        var topBottom = [$(cube).find(".cube-side-top .bl"), $(cube).find(".cube-side-top .bm"), $(cube).find(".cube-side-top .br")];
        var rightLeft = [$(cube).find(".cube-side-right .tl"), $(cube).find(".cube-side-right .ml"), $(cube).find(".cube-side-right .bl")];
        var bottomTop = [$(cube).find(".cube-side-bottom .tr"), $(cube).find(".cube-side-bottom .tm"), $(cube).find(".cube-side-bottom .tl")];
        var leftRight = [$(cube).find(".cube-side-left .br"), $(cube).find(".cube-side-left .mr"), $(cube).find(".cube-side-left .tr")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftRight[i]).css("background-color");
            var col2 = $(topBottom[i]).css("background-color");
            var col3 = $(rightLeft[i]).css("background-color");
            var col4 = $(bottomTop[i]).css("background-color");

            $(topBottom[i]).css({
                "background-color": col1
            });

            $(bottomTop[i]).css({
                "background-color": col3
            });

            $(rightLeft[i]).css({
                "background-color": col2
            });

            $(leftRight[i]).css({
                "background-color": col4
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allFront[i]).css("background-color");
        }

        for (var i = 0; i < allFront.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allFront[i]).css("background-color", colorsForRotation[2]);
                } else if (i == 6) {
                    $(allFront[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 2) {
                    $(allFront[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 0) {
                    $(allFront[i]).css("background-color", colorsForRotation[6]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allFront[i]).css("background-color", colorsForRotation[3]);
                } else if (i == 3) {
                    $(allFront[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 5) {
                    $(allFront[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 7) {
                    $(allFront[i]).css("background-color", colorsForRotation[5]);
                }
            }
        }
    }

    function turnUpRightSideRightCol() {
        var allBack = [$(cube).find(".cube-side-back .cube-face")];
        var topTop = [$(cube).find(".cube-side-top .tl"), $(cube).find(".cube-side-top .tm"), $(cube).find(".cube-side-top .tr")];
        var rightRight = [$(cube).find(".cube-side-right .tr"), $(cube).find(".cube-side-right .mr"), $(cube).find(".cube-side-right .br")];
        var bottomBottom = [$(cube).find(".cube-side-bottom .bl"), $(cube).find(".cube-side-bottom .bm"), $(cube).find(".cube-side-bottom .br")];
        var leftLeft = [$(cube).find(".cube-side-left .tl"), $(cube).find(".cube-side-left .ml"), $(cube).find(".cube-side-left .bl")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftLeft[i]).css("background-color");
            var col2 = $(topTop[i]).css("background-color");
            var col3 = $(rightRight[i]).css("background-color");
            var col4 = $(bottomBottom[i]).css("background-color");

            $(topTop[i]).css({
                "background-color": col3
            });

            $(bottomBottom[i]).css({
                "background-color": col1
            });

            $(rightRight[i]).css({
                "background-color": col4
            });

            $(leftLeft[i]).css({
                "background-color": col2
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allBack[i]).css("background-color");
        }

        for (var i = 0; i < allBack.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allBack[i]).css("background-color", colorsForRotation[2]);
                } else if (i == 6) {
                    $(allBack[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 2) {
                    $(allBack[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 0) {
                    $(allBack[i]).css("background-color", colorsForRotation[6]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allBack[i]).css("background-color", colorsForRotation[3]);
                } else if (i == 3) {
                    $(allBack[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 5) {
                    $(allBack[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 7) {
                    $(allFront[i]).css("background-color", colorsForRotation[5]);
                }
            }
        }
    }

    function turnDownRightSideRightCol() {
        var allBack = [$(cube).find(".cube-side-back .cube-face")];
        var topTop = [$(cube).find(".cube-side-top .tl"), $(cube).find(".cube-side-top .tm"), $(cube).find(".cube-side-top .tr")];
        var rightRight = [$(cube).find(".cube-side-right .tr"), $(cube).find(".cube-side-right .mr"), $(cube).find(".cube-side-right .br")];
        var bottomBottom = [$(cube).find(".cube-side-bottom .bl"), $(cube).find(".cube-side-bottom .bm"), $(cube).find(".cube-side-bottom .br")];
        var leftLeft = [$(cube).find(".cube-side-left .tl"), $(cube).find(".cube-side-left .ml"), $(cube).find(".cube-side-left .bl")];

        for (i = 0; i < 3; i++) {
            var col1 = $(leftLeft[i]).css("background-color");
            var col2 = $(topTop[i]).css("background-color");
            var col3 = $(rightRight[i]).css("background-color");
            var col4 = $(bottomBottom[i]).css("background-color");

            $(topTop[i]).css({
                "background-color": col1
            });

            $(bottomBottom[i]).css({
                "background-color": col3
            });

            $(rightRight[i]).css({
                "background-color": col2
            });

            $(leftLeft[i]).css({
                "background-color": col4
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allBack[i]).css("background-color");
        }

        for (var i = 0; i < allBack.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allBack[i]).css("background-color", colorsForRotation[6]);
                } else if (i == 6) {
                    $(allBack[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 2) {
                    $(allBack[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 0) {
                    $(allBack[i]).css("background-color", colorsForRotation[2]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allBack[i]).css("background-color", colorsForRotation[5]);
                } else if (i == 3) {
                    $(allBack[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 5) {
                    $(allBack[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 7) {
                    $(allFront[i]).css("background-color", colorsForRotation[3]);
                }
            }
        }
    }

    function turnLeft() {
        if (currSide == "front" || currSide == "back" || currSide == "left" || currSide == "right") {
            if (selectedPosition == "tl" || selectedPosition == "tm" || selectedPosition == "tr") {
                turnTopLeft();
            } else if (selectedPosition == "ml" || selectedPosition == "mm" || selectedPosition == "ml") {
                turnMidLeft();
            } else if (selectedPosition == "bl" || selectedPosition == "bm" || selectedPosition == "br") {
                turnBottomLeft();
            }
        } else if (currSide == "top" || currSide == "bottom") {
            if (currSide == "top") {
                if (selectedPosition == "tl" || selectedPosition == "tm" || selectedPosition == "tr") {
                    turnUpRightSideRightCol();
                } else if (selectedPosition == "ml" || selectedPosition == "mm" || selectedPosition == "ml") {
                    turnRightBottomMid();
                } else if (selectedPosition == "bl" || selectedPosition == "bm" || selectedPosition == "br") {
                    turnUpRightSideLeftCol();
                }
            }

            if (currSide == "bottom") {
                if (selectedPosition == "tl" || selectedPosition == "tm" || selectedPosition == "tr") {
                    turnUpLeftSideRightCol();
                } else if (selectedPosition == "ml" || selectedPosition == "mm" || selectedPosition == "ml") {
                    turnLeftBottomMid();
                } else if (selectedPosition == "bl" || selectedPosition == "bm" || selectedPosition == "br") {
                    turnDownRightSideRightCol();
                }
            }
        }

        checkWin();
    }

    function turnRight() {
        if (currSide == "front" || currSide == "back" || currSide == "left" || currSide == "right") {
            if (selectedPosition == "tl" || selectedPosition == "tm" || selectedPosition == "tr") {
                turnTopRight();
            } else if (selectedPosition == "ml" || selectedPosition == "mm" || selectedPosition == "ml") {
                turnMidRight();
            } else if (selectedPosition == "bl" || selectedPosition == "bm" || selectedPosition == "br") {
                turnBottomRight();
            }
        } else if (currSide == "top" || currSide == "bottom") {
            if (currSide == "top") {
                if (selectedPosition == "tl" || selectedPosition == "tm" || selectedPosition == "tr") {
                    turnUpLeftSideLeftCol();
                } else if (selectedPosition == "ml" || selectedPosition == "mm" || selectedPosition == "ml") {
                    turnRightTopMid();
                } else if (selectedPosition == "bl" || selectedPosition == "bm" || selectedPosition == "br") {
                    turnUpLeftSideRightCol();
                }
            }

            if (currSide == "bottom") {
                if (selectedPosition == "tl" || selectedPosition == "tm" || selectedPosition == "tr") {
                    turnDownLeftSideRightCol();
                } else if (selectedPosition == "ml" || selectedPosition == "mm" || selectedPosition == "mr") {
                    turnRightBottomMid();
                } else if (selectedPosition == "bl" || selectedPosition == "bm" || selectedPosition == "br") {
                    turnDownLeftSideLeftCol();
                }
            }
        }

        checkWin();
    }

    function turnTopRight() {
        var allTop = [$(cube).find(".cube-side-top .cube-face")];
        var frontTop = [$(cube).find(".cube-side-front .tl"), $(cube).find(".cube-side-front .tm"), $(cube).find(".cube-side-front .tr")];
        var leftTop = [$(cube).find(".cube-side-left .tl"), $(cube).find(".cube-side-left .tm"), $(cube).find(".cube-side-left .tr")];
        var backTop = [$(cube).find(".cube-side-back .tl"), $(cube).find(".cube-side-back .tm"), $(cube).find(".cube-side-back .tr")];
        var rightTop = [$(cube).find(".cube-side-right .tl"), $(cube).find(".cube-side-right .tm"), $(cube).find(".cube-side-right .tr")];

        for (i = 0; i < 3; i++) {
            var col1 = $(frontTop[i]).css("background-color");
            var col2 = $(leftTop[i]).css("background-color");
            var col3 = $(backTop[i]).css("background-color");
            var col4 = $(rightTop[i]).css("background-color");

            $(frontTop[i]).css({
                "background-color": col2
            });

            $(leftTop[i]).css({
                "background-color": col3
            });

            $(backTop[i]).css({
                "background-color": col4
            });

            $(rightTop[i]).css({
                "background-color": col1
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allTop[i]).css("background-color");
        }

        for (var i = 0; i < allTop.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allTop[i]).css("background-color", colorsForRotation[6]);
                } else if (i == 6) {
                    $(allTop[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 2) {
                    $(allTop[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 0) {
                    $(allTop[i]).css("background-color", colorsForRotation[2]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allTop[i]).css("background-color", colorsForRotation[5]);
                } else if (i == 3) {
                    $(allTop[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 5) {
                    $(allTop[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 7) {
                    $(allTop[i]).css("background-color", colorsForRotation[3]);
                }
            }
        }
    }

    function turnTopLeft() {
        var allTop = [$(cube).find(".cube-side-top .cube-face")];
        var frontTop = [$(cube).find(".cube-side-front .tl"), $(cube).find(".cube-side-front .tm"), $(cube).find(".cube-side-front .tr")];
        var leftTop = [$(cube).find(".cube-side-left .tl"), $(cube).find(".cube-side-left .tm"), $(cube).find(".cube-side-left .tr")];
        var backTop = [$(cube).find(".cube-side-back .tl"), $(cube).find(".cube-side-back .tm"), $(cube).find(".cube-side-back .tr")];
        var rightTop = [$(cube).find(".cube-side-right .tl"), $(cube).find(".cube-side-right .tm"), $(cube).find(".cube-side-right .tr")];

        for (i = 0; i < 3; i++) {
            var col1 = $(frontTop[i]).css("background-color");
            var col2 = $(leftTop[i]).css("background-color");
            var col3 = $(backTop[i]).css("background-color");
            var col4 = $(rightTop[i]).css("background-color");

            $(frontTop[i]).css({
                "background-color": col4
            });

            $(leftTop[i]).css({
                "background-color": col1
            });

            $(backTop[i]).css({
                "background-color": col2
            });

            $(rightTop[i]).css({
                "background-color": col3
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allTop[i]).css("background-color");
        }

        for (var i = 0; i < allTop.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allTop[i]).css("background-color", colorsForRotation[2]);
                } else if (i == 6) {
                    $(allTop[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 2) {
                    $(allTop[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 0) {
                    $(allTop[i]).css("background-color", colorsForRotation[6]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allTop[i]).css("background-color", colorsForRotation[3]);
                } else if (i == 3) {
                    $(allTop[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 5) {
                    $(allTop[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 7) {
                    $(allTop[i]).css("background-color", colorsForRotation[5]);
                }
            }
        }
    }

    function turnMidLeft() {
        var frontMid = [$(cube).find(".cube-side-front .ml"), $(cube).find(".cube-side-front .mm"), $(cube).find(".cube-side-front .mr")];
        var leftMid = [$(cube).find(".cube-side-left .ml"), $(cube).find(".cube-side-left .mm"), $(cube).find(".cube-side-left .mr")];
        var backMid = [$(cube).find(".cube-side-back .ml"), $(cube).find(".cube-side-back .mm"), $(cube).find(".cube-side-back .mr")];
        var rightMid = [$(cube).find(".cube-side-right .ml"), $(cube).find(".cube-side-right .mm"), $(cube).find(".cube-side-right .mr")];

        for (i = 0; i < 3; i++) {
            var col1 = $(frontMid[i]).css("background-color");
            var col2 = $(leftMid[i]).css("background-color");
            var col3 = $(backMid[i]).css("background-color");
            var col4 = $(rightMid[i]).css("background-color");

            $(frontMid[i]).css({
                "background-color": col4
            });

            $(leftMid[i]).css({
                "background-color": col1
            });

            $(backMid[i]).css({
                "background-color": col2
            });

            $(rightMid[i]).css({
                "background-color": col3
            });
        }
    }

    function turnMidRight() {
        var frontMid = [$(cube).find(".cube-side-front .ml"), $(cube).find(".cube-side-front .mm"), $(cube).find(".cube-side-front .mr")];
        var leftMid = [$(cube).find(".cube-side-left .ml"), $(cube).find(".cube-side-left .mm"), $(cube).find(".cube-side-left .mr")];
        var backMid = [$(cube).find(".cube-side-back .ml"), $(cube).find(".cube-side-back .mm"), $(cube).find(".cube-side-back .mr")];
        var rightMid = [$(cube).find(".cube-side-right .ml"), $(cube).find(".cube-side-right .mm"), $(cube).find(".cube-side-right .mr")];

        for (i = 0; i < 3; i++) {
            var col1 = $(frontMid[i]).css("background-color");
            var col2 = $(leftMid[i]).css("background-color");
            var col3 = $(backMid[i]).css("background-color");
            var col4 = $(rightMid[i]).css("background-color");

            $(frontMid[i]).css({
                "background-color": col2
            });

            $(leftMid[i]).css({
                "background-color": col3
            });

            $(backMid[i]).css({
                "background-color": col4
            });

            $(rightMid[i]).css({
                "background-color": col1
            });
        }
    }

    function turnBottomLeft() {
        var allBottom = [$(cube).find(".cube-side-bottom .cube-face")];
        var frontBottom = [$(cube).find(".cube-side-front .bl"), $(cube).find(".cube-side-front .bm"), $(cube).find(".cube-side-front .br")];
        var leftBottom = [$(cube).find(".cube-side-left .bl"), $(cube).find(".cube-side-left .bm"), $(cube).find(".cube-side-left .br")];
        var backBottom = [$(cube).find(".cube-side-back .bl"), $(cube).find(".cube-side-back .bm"), $(cube).find(".cube-side-back .br")];
        var rightBottom = [$(cube).find(".cube-side-right .bl"), $(cube).find(".cube-side-right .bm"), $(cube).find(".cube-side-right .br")];

        for (i = 0; i < 3; i++) {
            var col1 = $(frontBottom[i]).css("background-color");
            var col2 = $(leftBottom[i]).css("background-color");
            var col3 = $(backBottom[i]).css("background-color");
            var col4 = $(rightBottom[i]).css("background-color");

            $(frontBottom[i]).css({
                "background-color": col4
            });

            $(leftBottom[i]).css({
                "background-color": col1
            });

            $(backBottom[i]).css({
                "background-color": col2
            });

            $(rightBottom[i]).css({
                "background-color": col3
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allBottom[i]).css("background-color");
        }

        for (var i = 0; i < allTop.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allBottom[i]).css("background-color", colorsForRotation[6]);
                } else if (i == 6) {
                    $(allBottom[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 2) {
                    $(allBottom[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 0) {
                    $(allBottom[i]).css("background-color", colorsForRotation[2]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allBottom[i]).css("background-color", colorsForRotation[5]);
                } else if (i == 3) {
                    $(allBottom[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 5) {
                    $(allBottom[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 7) {
                    $(allBottom[i]).css("background-color", colorsForRotation[3]);
                }
            }
        }
    }

    function turnBottomRight() {
        var allBottom = [$(cube).find(".cube-side-bottom .cube-face")];
        var frontBottom = [$(cube).find(".cube-side-front .bl"), $(cube).find(".cube-side-front .bm"), $(cube).find(".cube-side-front .br")];
        var leftBottom = [$(cube).find(".cube-side-left .bl"), $(cube).find(".cube-side-left .bm"), $(cube).find(".cube-side-left .br")];
        var backBottom = [$(cube).find(".cube-side-back .bl"), $(cube).find(".cube-side-back .bm"), $(cube).find(".cube-side-back .br")];
        var rightBottom = [$(cube).find(".cube-side-right .bl"), $(cube).find(".cube-side-right .bm"), $(cube).find(".cube-side-right .br")];

        for (i = 0; i < 3; i++) {
            var col1 = $(frontBottom[i]).css("background-color");
            var col2 = $(leftBottom[i]).css("background-color");
            var col3 = $(backBottom[i]).css("background-color");
            var col4 = $(rightBottom[i]).css("background-color");

            $(frontBottom[i]).css({
                "background-color": col2
            });

            $(leftBottom[i]).css({
                "background-color": col3
            });

            $(backBottom[i]).css({
                "background-color": col4
            });

            $(rightBottom[i]).css({
                "background-color": col1
            });
        }

        var colorsForRotation = [];
        for (var i = 0; i < 9; i++) {
            colorsForRotation[i] = $(allBottom[i]).css("background-color");
        }

        for (var i = 0; i < allTop.length; i++) {
            if (i % 2 == 0) {

                if (i == 8) {
                    $(allBottom[i]).css("background-color", colorsForRotation[2]);
                } else if (i == 6) {
                    $(allBottom[i]).css("background-color", colorsForRotation[8]);
                } else if (i == 2) {
                    $(allBottom[i]).css("background-color", colorsForRotation[0]);
                } else if (i == 0) {
                    $(allBottom[i]).css("background-color", colorsForRotation[6]);
                }
            } else if (i % 2 != 0) {
                if (i == 1) {
                    $(allBottom[i]).css("background-color", colorsForRotation[3]);
                } else if (i == 3) {
                    $(allBottom[i]).css("background-color", colorsForRotation[7]);
                } else if (i == 5) {
                    $(allBottom[i]).css("background-color", colorsForRotation[1]);
                } else if (i == 7) {
                    $(allBottom[i]).css("background-color", colorsForRotation[5]);
                }
            }
        }
    }

    function removeSelected(cube) {
        var allTop = $(cube).find(".selected");
        $(allTop).removeClass("selected");
    }

    function changeColor(ele) {
        var cubeSide = ".cube-side-";
        var selectedSide = "";

        switch ($(ele).attr("id")) {
            case "frontColor":
                selectedSide = "front";
                cubeSide += "front";
                break;

            case "leftColor":
                selectedSide = "left";
                cubeSide += "left";
                break;

            case "rightColor":
                selectedSide = "right";
                cubeSide += "right";
                break;

            case "backColor":
                selectedSide = "back";
                cubeSide += "back";
                break;

            case "topColor":
                selectedSide = "top";
                cubeSide += "top";
                break;

            case "bottomColor":
                selectedSide = "bottom";
                cubeSide += "bottom";
                break;
        }
        var facesToChange = $(cube).find(cubeSide + " .cube-face");

        for (var i = 0; i < facesToChange.length; i++) {
            $(facesToChange).css("background-color", ele.value);
        }

        console.log($(ele).attr("id"));

        $("." + selectedSide + "Btn").css("background-color", ele.value);
    }

    function checkWin() {
        var cubeSides = [".cube-side-front ", ".cube-side-left ", ".cube-side-right ", ".cube-side-back ", ".cube-side-top ", ".cube-side-bottom "];
        var currCubes = "";
        for (var i = 0; i < cubeSides.length; i++) {
            currCubes = $(cube).find(cubeSides[i] + ".cube-face");
            var colorToCheck = $(currCubes[0]).css("background-color");
            for (var j = 0; j < currCubes.length; j++) {
                if ($(currCubes[j]).css("background-color") == "rgb(255, 165, 0)") {
                    $(currCubes[j]).removeClass("selected");
                    var realColor = $(currCubes).css("background-color");
                    if (!realColor == colorToCheck) { return false; }
                    $(currCubes[j]).addClass("selected");
                }
                else if ($(currCubes[j]).css("background-color") != colorToCheck) { return false; }
            }
        }

        alert("Cube is completed!");
        return true;
    }

    function adjustX(ele)
    {
        $(cube).css({
            'transform': 'rotateX(' + ele.value + "deg)"
        });
    }

    function adjustY(ele)
    {
        $(cube).css({
            'transform': 'rotateY(' + ele.value + "deg)"
        });
    }
</script>